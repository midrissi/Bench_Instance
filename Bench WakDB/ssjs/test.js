var dgWorker = new SharedWorker('workers/dataGenerator.js', 'dg');var thePort = taskMgr.port; //MessagePortthePort.onmessage = function(event){    var message = event.data;    switch (message.type)    {        case 'generate':            tmRef = message.ref;            taskMgr.postMessage({type: 'report', ref: tmRef});            break;        case 'update':            tmInfo.taskCount = message.count;            taskMgr.postMessage({type: 'disconnect', ref: tmRef});            return tmInfo;            close();            break;        case 'error':            tmInfo.errorCode = message.errorCode;            return tmInfo;            close();            break;    }}wait();